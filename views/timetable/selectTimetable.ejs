<% layout("/layouts/boilerplat") %>

<body>
  <h2 class="select-title">Select Timetable</h2>

<form action="/timetable/view-timetable" method="GET" class="select-form">
  <div class="form-group">
    <label for="branch">Branch:</label>
    <select name="branch" id="branch" required class="form-control">
      <% branches.forEach(branch => { %>
        <option value="<%= branch %>"><%= branch %></option>
      <% }) %>
    </select>
  </div>

  <div class="form-group">
    <label for="section">Section:</label>
    <select name="section" id="section" required class="form-control">
      <% sections.forEach(section => { %>
        <option value="<%= section %>"><%= section %></option>
      <% }) %>
    </select>
  </div>

  <div class="form-group">
    <label for="semester">Semester:</label>
    <select name="semester" id="semester" required class="form-control">
      <% semesters.forEach(sem => { %>
        <option value="<%= sem %>"><%= sem %></option>
      <% }) %>
    </select>
  </div>

  <button type="submit" class="submit-btn">View Timetable</button>
</form>

  <script>
    const dropdown = document.querySelector('select[name="branch"]');
    const sectionInput = document.getElementById('sectionInput');
    const semesterInput = document.getElementById('semesterInput');

    function updateHiddenInputs() {
      const selected = dropdown.selectedOptions[0];
      sectionInput.value = selected.dataset.section;
      semesterInput.value = selected.dataset.semester;
    }

    dropdown.addEventListener('change', updateHiddenInputs);
    window.onload = updateHiddenInputs;
  </script>
</body>
</html>


